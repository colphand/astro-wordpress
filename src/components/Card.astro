---
const { post } = Astro.props;
---

<article class="flex flex-col items-start">
  <div class="relative w-full">
    <img
      src={post?.featuredImage?.node?.mediaItemUrl}
      alt={post?.featuredImage?.node?.altText}
      srcset={post?.featuredImage?.node?.srcSet}
      loading="lazy"
      width={post?.featuredImage?.node?.mediaDetails?.width}
      height={post?.featuredImage?.node?.mediaDetails?.height}
    />
    <div
      class="absolute inset-0 rounded-2xl ring-1 ring-inset ring-gray-900/10 bg-clip-content"
    >
    </div>
  </div>
  <div class="max-w-xl">
    <div class="mt-8 flex items-center gap-x-4 text-xs">
      <span
        ><time datetime={post.date}
          >{new Date(post.date).toLocaleDateString()}</time
        >
      </span>
      <a
        href="#"
        set:html="post.categories"
        class="no-underline relative z-10 rounded-full bg-gray-50 px-3 py-1.5 font-medium text-gray-600 hover:bg-gray-100"
      />
    </div>
    <div class="group relative">
      <h3
        class="mt-3 text-lg font-semibold leading-6 text-gray-900 group-hover:text-gray-600"
      >
        <a href={post.uri} aria-label={post.title}>
          {post.title}
        </a>
      </h3>
      {
        post.excerpt ? (
          <>
            <div class="mt-5 line-clamp-3 text-sm leading-6 text-gray-600">
              <p set:html={post.excerpt} />
              {post.categories.nodes.map((category) => {
                return (
                  <a class="term-link" href={category.uri}>
                    {category.name}
                  </a>
                );
              })}
            </div>
          </>
        ) : (
          <p>No excerpt</p>
        )
      }
    </div>
    <div class="relative mt-8 flex items-center gap-x-4">
      <div class="text-sm leading-6">
        <p class="font-semibold text-gray-900">
          <a href="#">
            <!-- <span
              class="absolute inset-0"
              set:html="post.yoast_head_json.author"
            /> -->
          </a>
        </p>
      </div>
    </div>
  </div>
</article>
